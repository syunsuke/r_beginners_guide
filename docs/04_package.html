<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 パッケージ | Rビギナーズガイド</title>
  <meta name="description" content="4 パッケージ | Rビギナーズガイド" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="4 パッケージ | Rビギナーズガイド" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 パッケージ | Rビギナーズガイド" />
  
  
  

<meta name="author" content="Syunsuke Fukuda" />


<meta name="date" content="2019-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="03_path.html">
<link rel="next" href="05_script.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rビギナーズガイド<a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 初めてのRStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#section"><i class="fa fa-check"></i><b>1.1</b> 何を起動するのか</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#section-1"><i class="fa fa-check"></i><b>1.2</b> ペインとタブ</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#section-2"><i class="fa fa-check"></i><b>1.3</b> コンソール</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="02_command.html"><a href="02_command.html"><i class="fa fa-check"></i><b>2</b> コンソールとコマンド</a><ul>
<li class="chapter" data-level="2.1" data-path="02_command.html"><a href="02_command.html#section-4"><i class="fa fa-check"></i><b>2.1</b> コマンド</a><ul>
<li class="chapter" data-level="2.1.1" data-path="02_command.html"><a href="02_command.html#section-5"><i class="fa fa-check"></i><b>2.1.1</b> 四則演算</a></li>
<li class="chapter" data-level="2.1.2" data-path="02_command.html"><a href="02_command.html#section-6"><i class="fa fa-check"></i><b>2.1.2</b> 関数</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02_command.html"><a href="02_command.html#section-7"><i class="fa fa-check"></i><b>2.2</b> 履歴機能</a></li>
<li class="chapter" data-level="2.3" data-path="02_command.html"><a href="02_command.html#section-8"><i class="fa fa-check"></i><b>2.3</b> 補完機能</a></li>
<li class="chapter" data-level="2.4" data-path="02_command.html"><a href="02_command.html#section-9"><i class="fa fa-check"></i><b>2.4</b> 複数行入力</a><ul>
<li class="chapter" data-level="2.4.1" data-path="02_command.html"><a href="02_command.html#section-10"><i class="fa fa-check"></i><b>2.4.1</b> 複数行入力と第２プロンプト “+”</a></li>
<li class="chapter" data-level="2.4.2" data-path="02_command.html"><a href="02_command.html#section-11"><i class="fa fa-check"></i><b>2.4.2</b> 複数行入力のキャンセル</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02_command.html"><a href="02_command.html#section-12"><i class="fa fa-check"></i><b>2.5</b> 変数と代入</a></li>
<li class="chapter" data-level="2.6" data-path="02_command.html"><a href="02_command.html#section-13"><i class="fa fa-check"></i><b>2.6</b> ベクトル</a><ul>
<li class="chapter" data-level="2.6.1" data-path="02_command.html"><a href="02_command.html#section-14"><i class="fa fa-check"></i><b>2.6.1</b> ベクトルの作成</a></li>
<li class="chapter" data-level="2.6.2" data-path="02_command.html"><a href="02_command.html#section-15"><i class="fa fa-check"></i><b>2.6.2</b> データの型とベクトルの性質</a></li>
<li class="chapter" data-level="2.6.3" data-path="02_command.html"><a href="02_command.html#section-18"><i class="fa fa-check"></i><b>2.6.3</b> ベクトルと要素</a></li>
<li class="chapter" data-level="2.6.4" data-path="02_command.html"><a href="02_command.html#section-19"><i class="fa fa-check"></i><b>2.6.4</b> ベクトルを使って計算</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="02_command.html"><a href="02_command.html#section-20"><i class="fa fa-check"></i><b>2.7</b> データフレーム</a><ul>
<li class="chapter" data-level="2.7.1" data-path="02_command.html"><a href="02_command.html#view"><i class="fa fa-check"></i><b>2.7.1</b> データをView()でみる</a></li>
<li class="chapter" data-level="2.7.2" data-path="02_command.html"><a href="02_command.html#section-21"><i class="fa fa-check"></i><b>2.7.2</b> 行と列</a></li>
<li class="chapter" data-level="2.7.3" data-path="02_command.html"><a href="02_command.html#section-22"><i class="fa fa-check"></i><b>2.7.3</b> 整然データとキーワード</a></li>
<li class="chapter" data-level="2.7.4" data-path="02_command.html"><a href="02_command.html#section-23"><i class="fa fa-check"></i><b>2.7.4</b> 列の名前と列へのアクセス</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03_path.html"><a href="03_path.html"><i class="fa fa-check"></i><b>3</b> パス</a><ul>
<li class="chapter" data-level="3.1" data-path="03_path.html"><a href="03_path.html#section-25"><i class="fa fa-check"></i><b>3.1</b> ファイルを扱うために必要不可欠な知識</a></li>
<li class="chapter" data-level="3.2" data-path="03_path.html"><a href="03_path.html#windows"><i class="fa fa-check"></i><b>3.2</b> Windowsのディレクトリ構成</a></li>
<li class="chapter" data-level="3.3" data-path="03_path.html"><a href="03_path.html#section-26"><i class="fa fa-check"></i><b>3.3</b> パスの書き方のルール</a></li>
<li class="chapter" data-level="3.4" data-path="03_path.html"><a href="03_path.html#windows-1"><i class="fa fa-check"></i><b>3.4</b> Windowsのパスの注意点</a><ul>
<li class="chapter" data-level="3.4.1" data-path="03_path.html"><a href="03_path.html#section-27"><i class="fa fa-check"></i><b>3.4.1</b> ディレクトリを表す記号</a></li>
<li class="chapter" data-level="3.4.2" data-path="03_path.html"><a href="03_path.html#section-28"><i class="fa fa-check"></i><b>3.4.2</b> ディレクトリ名称</a></li>
<li class="chapter" data-level="3.4.3" data-path="03_path.html"><a href="03_path.html#section-29"><i class="fa fa-check"></i><b>3.4.3</b> 間違えがちな所</a></li>
<li class="chapter" data-level="3.4.4" data-path="03_path.html"><a href="03_path.html#section-30"><i class="fa fa-check"></i><b>3.4.4</b> パス入力の実習</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="03_path.html"><a href="03_path.html#section-31"><i class="fa fa-check"></i><b>3.5</b> カレントディレクトリ</a><ul>
<li class="chapter" data-level="3.5.1" data-path="03_path.html"><a href="03_path.html#section-32"><i class="fa fa-check"></i><b>3.5.1</b> カレントディレクトリとパスの種類</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="03_path.html"><a href="03_path.html#section-33"><i class="fa fa-check"></i><b>3.6</b> カレントディレクトリを意識した作業</a><ul>
<li class="chapter" data-level="3.6.1" data-path="03_path.html"><a href="03_path.html#section-34"><i class="fa fa-check"></i><b>3.6.1</b> デスクトップでの事前準備</a></li>
<li class="chapter" data-level="3.6.2" data-path="03_path.html"><a href="03_path.html#section-35"><i class="fa fa-check"></i><b>3.6.2</b> カレントディレクトリの変更</a></li>
<li class="chapter" data-level="3.6.3" data-path="03_path.html"><a href="03_path.html#section-36"><i class="fa fa-check"></i><b>3.6.3</b> ファイルの読み込み作業</a></li>
<li class="chapter" data-level="3.6.4" data-path="03_path.html"><a href="03_path.html#section-37"><i class="fa fa-check"></i><b>3.6.4</b> 相対パスと絶対パス</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="03_path.html"><a href="03_path.html#rstduio"><i class="fa fa-check"></i><b>3.7</b> RStduioのプロジェクト</a><ul>
<li class="chapter" data-level="3.7.1" data-path="03_path.html"><a href="03_path.html#section-38"><i class="fa fa-check"></i><b>3.7.1</b> プロジェクトの作成</a></li>
<li class="chapter" data-level="3.7.2" data-path="03_path.html"><a href="03_path.html#rstudio-1"><i class="fa fa-check"></i><b>3.7.2</b> RStudioに小さく表示される情報</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04_package.html"><a href="04_package.html"><i class="fa fa-check"></i><b>4</b> パッケージ</a><ul>
<li class="chapter" data-level="4.1" data-path="04_package.html"><a href="04_package.html#rstudio-2"><i class="fa fa-check"></i><b>4.1</b> RStudioでのパッケージのインストール</a></li>
<li class="chapter" data-level="4.2" data-path="04_package.html"><a href="04_package.html#section-40"><i class="fa fa-check"></i><b>4.2</b> パッケージの管理</a><ul>
<li class="chapter" data-level="4.2.1" data-path="04_package.html"><a href="04_package.html#section-41"><i class="fa fa-check"></i><b>4.2.1</b> アップデート</a></li>
<li class="chapter" data-level="4.2.2" data-path="04_package.html"><a href="04_package.html#section-42"><i class="fa fa-check"></i><b>4.2.2</b> マニュアルをみる</a></li>
<li class="chapter" data-level="4.2.3" data-path="04_package.html"><a href="04_package.html#section-43"><i class="fa fa-check"></i><b>4.2.3</b> パッケージの読み込みとデタッチ</a></li>
<li class="chapter" data-level="4.2.4" data-path="04_package.html"><a href="04_package.html#web"><i class="fa fa-check"></i><b>4.2.4</b> パッケージに関するWebサイトをみる</a></li>
<li class="chapter" data-level="4.2.5" data-path="04_package.html"><a href="04_package.html#section-44"><i class="fa fa-check"></i><b>4.2.5</b> パッケージアンインストール</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04_package.html"><a href="04_package.html#library"><i class="fa fa-check"></i><b>4.3</b> パッケージを読み込むlibrary()関数</a></li>
<li class="chapter" data-level="4.4" data-path="04_package.html"><a href="04_package.html#github"><i class="fa fa-check"></i><b>4.4</b> GitHubにあるパッケージのインストール</a></li>
<li class="chapter" data-level="4.5" data-path="04_package.html"><a href="04_package.html#section-45"><i class="fa fa-check"></i><b>4.5</b> 有名なパッケージ</a><ul>
<li class="chapter" data-level="4.5.1" data-path="04_package.html"><a href="04_package.html#tidyverse"><i class="fa fa-check"></i><b>4.5.1</b> tidyverse</a></li>
<li class="chapter" data-level="4.5.2" data-path="04_package.html"><a href="04_package.html#devtools"><i class="fa fa-check"></i><b>4.5.2</b> devtools</a></li>
<li class="chapter" data-level="4.5.3" data-path="04_package.html"><a href="04_package.html#leaflet"><i class="fa fa-check"></i><b>4.5.3</b> leaflet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05_script.html"><a href="05_script.html"><i class="fa fa-check"></i><b>5</b> 日常作業は、R Notebookで行う</a><ul>
<li class="chapter" data-level="5.1" data-path="05_script.html"><a href="05_script.html#section-46"><i class="fa fa-check"></i><b>5.1</b> 作業の準備はプロジェクトから</a></li>
<li class="chapter" data-level="5.2" data-path="05_script.html"><a href="05_script.html#r-notebook-1"><i class="fa fa-check"></i><b>5.2</b> R Notebookを新規作成する</a></li>
<li class="chapter" data-level="5.3" data-path="05_script.html"><a href="05_script.html#r-notebook-2"><i class="fa fa-check"></i><b>5.3</b> R Notebookの構造</a><ul>
<li class="chapter" data-level="5.3.1" data-path="05_script.html"><a href="05_script.html#yaml"><i class="fa fa-check"></i><b>5.3.1</b> 設定を行うYAMLヘッダ</a></li>
<li class="chapter" data-level="5.3.2" data-path="05_script.html"><a href="05_script.html#section-47"><i class="fa fa-check"></i><b>5.3.2</b> コードが実行できる場所、チャンク</a></li>
<li class="chapter" data-level="5.3.3" data-path="05_script.html"><a href="05_script.html#section-48"><i class="fa fa-check"></i><b>5.3.3</b> それ以外の部分</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="05_script.html"><a href="05_script.html#r-notebook--"><i class="fa fa-check"></i><b>5.4</b> R Notebook と マークダウン</a><ul>
<li class="chapter" data-level="5.4.1" data-path="05_script.html"><a href="05_script.html#section-49"><i class="fa fa-check"></i><b>5.4.1</b> マークダウン</a></li>
<li class="chapter" data-level="5.4.2" data-path="05_script.html"><a href="05_script.html#section-50"><i class="fa fa-check"></i><b>5.4.2</b> マークダウンの出力ファイル</a></li>
<li class="chapter" data-level="5.4.3" data-path="05_script.html"><a href="05_script.html#section-51"><i class="fa fa-check"></i><b>5.4.3</b> 出力形式の変更</a></li>
<li class="chapter" data-level="5.4.4" data-path="05_script.html"><a href="05_script.html#r-notebook-3"><i class="fa fa-check"></i><b>5.4.4</b> R Notebookとして出力するための設定</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="05_script.html"><a href="05_script.html#r"><i class="fa fa-check"></i><b>5.5</b> マークダウンとRマークダウン</a><ul>
<li class="chapter" data-level="5.5.1" data-path="05_script.html"><a href="05_script.html#section-52"><i class="fa fa-check"></i><b>5.5.1</b> マークダウン</a></li>
<li class="chapter" data-level="5.5.2" data-path="05_script.html"><a href="05_script.html#r-1"><i class="fa fa-check"></i><b>5.5.2</b> Rマークダウン</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="05_script.html"><a href="05_script.html#r-notebook-"><i class="fa fa-check"></i><b>5.6</b> R Notebook とは</a><ul>
<li class="chapter" data-level="5.6.1" data-path="05_script.html"><a href="05_script.html#section-58"><i class="fa fa-check"></i><b>5.6.1</b> 保存すると、自動で出力される</a></li>
<li class="chapter" data-level="5.6.2" data-path="05_script.html"><a href="05_script.html#section-59"><i class="fa fa-check"></i><b>5.6.2</b> ファイルを持ち運べる</a></li>
<li class="chapter" data-level="5.6.3" data-path="05_script.html"><a href="05_script.html#html"><i class="fa fa-check"></i><b>5.6.3</b> 只のhtmlファイルではない</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Rビギナーズガイド</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-39" class="section level1">
<h1><span class="header-section-number">4</span> パッケージ</h1>
<p>Rの<strong>パッケージ</strong>とは、関数やデータセットを集めたものです。
Rでは、パッケージをインストールすることで、
機能を拡張することが出来る仕組みになっています。
Rの参考書等ではよく、
その説明の中で使われる関数を含んでいるパッケージのインストールが要求されます。</p>
<p>このパッケージは、世界各国の現場の研究者達や
RStudioチームをはじめとするオープンソース開発者達が
独自に開発して公開しています。
このパッケージには、<strong>CRAN</strong>を通じて公式に配布されているものと、
<strong>GitHub</strong>等を通じてプログラマが独自に配布しているものとがあります。</p>
<p>まず、CRANは、The Comprehensive R Archive Network（包括的Rアーカイブネットワーク）の略称で
Rに関するコードとドキュメントを配布しているサーバー群です。（図<a href="04_package.html#fig:cranss001">4.1</a>）Rの本体もこのCRANで配布されています。
CRANは、シーランやクランと発音されているようです。
CRANは世界各国にミラーサーバーがあり、それらが常に同期されています。</p>
<div class="figure" style="text-align: center"><span id="fig:cranss001"></span>
<img src="images/cran_ss001.png" alt="https://cran.r-project.org/" width="90%" />
<p class="caption">
Figure 4.1: <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a>
</p>
</div>
<p>次に、GitHubは、
世界中のプログラマが沢山のプログラムのソースコードを公開している有名なWebサービスです。（図<a href="04_package.html#fig:githubss001">4.2</a>）
プログラムの開発をサポートするサービスなので、
CRANに登録されているRのパッケージも、
その開発段階の最新のものはGitHub上にもあったりします。</p>
<div class="figure" style="text-align: center"><span id="fig:githubss001"></span>
<img src="images/github_ss001.png" alt="https://github.com/" width="90%" />
<p class="caption">
Figure 4.2: <a href="https://github.com/" class="uri">https://github.com/</a>
</p>
</div>
<p>CRANに登録されているパッケージは、2019/5/31時点で14,307あります。
しかし、RのパッケージはCRANに登録されずにGitHub上のみで
公開されているものもあるので、世の中にあるRパッケージは上記の数よりもずっと多く存在します。
Rでは、これらの全てのパッケージをインストールしなければならないわけでは無く、
これらのうちから自分の作業に必要なもののみをインストールします。
一般的に、Rで新しいことをはじめようとする場合、
参考書等でほぼ初めに述べられるのが、
その作業に必要となるパッケージのインストールについてです。
また、Rのバージョンアップを行ったり、再インストールを行った場合には、
いつも使っていたパッケージについて、再度インストールする必要が生じます。<br />
以上のことから、R言語を利用する場合、パッケージの管理は必須の作業になります。</p>
<div id="rstudio-2" class="section level2">
<h2><span class="header-section-number">4.1</span> RStudioでのパッケージのインストール</h2>
<p>Rには、パッケージをインストールするための<strong>Rの関数</strong>が用意されています。
ここで上記の通りRのパッケージの配布先は主にCRANとGitHubの２つがありますが、
このCRANにあるパッケージとGitHubにあるパッケージで
<strong>インストールするための関数が異なる</strong>ことに注意が必要です。</p>
<table>
<thead>
<tr class="header">
<th align="center">ダウンロード先</th>
<th align="center">インストール用関数</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">CRAN</td>
<td align="center">install.packages()</td>
</tr>
<tr class="even">
<td align="center">GitHub</td>
<td align="center">install_github()</td>
</tr>
</tbody>
</table>
<p>このように、Rには本来的にインストール用の関数が用意されていますが、
日常のR作業においては、<strong>RStudioの機能を使ってパッケージの管理を行う</strong>方が便利です。
RStudioの<strong>右下ペイン、Packagesタブ</strong>を見てください。（図<a href="04_package.html#fig:packagetab001">4.3</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:packagetab001"></span>
<img src="images/packagetab001.png" alt="RStudio右下ペインのPackagesタブ" width="70%" />
<p class="caption">
Figure 4.3: RStudio右下ペインのPackagesタブ
</p>
</div>
<p>一覧には、既にインストールされているパッケージの
パッケージ名、概略の説明、バージョンが順に記されています。
このタブからパッケージに関する色々な操作が出来ますが、まずは、
パッケージのインストールの仕方を覚えましょう。
但し、この方法でインストールできるのは、CRANで配布されているパッケージのみです。
また、パッケージのインストールは、
RStudio内部で自動的にCRAN等からパッケージをダウンロードしてからインストールを行うため
インターネットに接続された状態で行う必要があります。</p>
Packagesタブのタブの下をよく見ると、InstallとUpdateと書かれた部分がみつかります。（図<a href="04_package.html#fig:packagetab002">4.4</a>）
<div class="figure" style="text-align: center"><span id="fig:packagetab002"></span>
<img src="images/packagetab002.png" alt="RStudio右下ペインのPackagesタブ" width="70%" />
<p class="caption">
Figure 4.4: RStudio右下ペインのPackagesタブ
</p>
</div>
<p>このうち<strong>Install</strong>と書かれている部分をクリックしてください。
<strong>Install Packagesダイアログ</strong>が出てきます。（図<a href="04_package.html#fig:installpackagesdai001">4.5</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:installpackagesdai001"></span>
<img src="images/installpackagesdia001.png" alt="Install Packages ダイアログ" width="70%" />
<p class="caption">
Figure 4.5: Install Packages ダイアログ
</p>
</div>
<p>このダイアログの Pacakges(separate multiple with space or comma):
と書かれている入力フォームにインストールしたいパッケージ名を入力し
ダイアログ下部のInstallボタンを押すことでパッケージのインストールが出来ます。</p>
<p>このRStudioでのインストール機能については、
まず、この入力フォームでは、パッケージ名の補完機能が働いています。
パッケージ名の綴りがうろ覚えであっても、補完メニューが支援してくれるので便利です。
次に、入力フォームには、スペースもしくはカンマ区切りを使うことで、
複数のパッケージ名を書き込んで、一度に複数のパッケージをインストールすることが出来ます。
更に、ダイアログの下部にあるInstall dependenciesと書かれている部分にある
チェックボックスにチェックがあることを確認しましょう。
パッケージは、それをインストールするためには、
先に別のパッケージをインストールしておく必要がある場合があります。
（こういう関係は、依存関係と呼ばれる）
Install depencdenciesのチェックを入れておけば、
自分がインストールしたいパッケージに必要なパッケージがある場合、
依存関係が解決されるように自動的に他のパッケージをインストールしてくれます。</p>
<p>尚、RStudioのインストール機能を使っても
実際には、先に説明したパッケージのインストール関数が使われて作業が行われいます。
Install PackagesダイアログのInstall ボタンを押すと、
左側ペインのConsoleに沢山の出力が現れているはずです。
先に述べた通り、インストール作業では、自分の指定したパッケージ以外にも
依存関係を解決するために沢山のパッケージがインストールされる事があり、
この場合、インストール作業が終了するまで数分かかることもあります。
インストール作業中なのか、終了したのかは、
Consoleにプロンプトがあるかないかで判断できます。
Console画面をよく見て、作業が終了するのをのんびり待ってください。</p>
<p>また、パッケージのインストール作業は、
ネットワーク回線の状態が悪い時などパッケージのダウンロードに失敗して、
インストール作業自体が失敗することがあります。
「インストールしたはずなのに、、」という場合、
Packagesタブの一覧に、パッケージ名があるかどうか確認してください。
Packagesタブ上部右端の検索フォームを使うと簡単です。
よくわからない場合、再度重複してインストールしたとしても問題有りません。
もう一度、目的のパッケージをインストールしてみてください。</p>
</div>
<div id="section-40" class="section level2">
<h2><span class="header-section-number">4.2</span> パッケージの管理</h2>
<p>再度、右下ペインのPackagesタブに着目してください。（図<a href="04_package.html#fig:packagetab001">4.3</a>）
このパッケージタブでは、インストールだけでなくパッケージについて様々なことが出来ます。</p>
<div id="section-41" class="section level3">
<h3><span class="header-section-number">4.2.1</span> アップデート</h3>
<p>一覧上部にある、Updateと書かれている部分をクリックすると、Update Packagesダイアログが出てきます。
アップデート可能なパッケージがある場合、ここに表示されるので、アップデートするパッケージにチェックをいれて
Install Updateボタンをクリックすれば、アップデートをおこなってくれます。</p>
</div>
<div id="section-42" class="section level3">
<h3><span class="header-section-number">4.2.2</span> マニュアルをみる</h3>
<p>パッケージ一覧のパッケージ名をクリックすることで、右下ペインはHelpタブに切り替わり、
クリックしたパッケージのマニュアルを表示することが出来ます。</p>
</div>
<div id="section-43" class="section level3">
<h3><span class="header-section-number">4.2.3</span> パッケージの読み込みとデタッチ</h3>
<p>一覧の左端にあるチェックボックスにチェックをいれると、Colnsoleの環境にそのパッケージをロードします。
Consoleに目を移すと、<code>library()</code>関数が呼ばれていることがわかります。
逆に、チェックを外すと、現在のConsole環境からそのパッケージを取り除きます。
これもConsoleに目を移すと<code>detach()</code>関数が呼ばれていることを確認できます。</p>
</div>
<div id="web" class="section level3">
<h3><span class="header-section-number">4.2.4</span> パッケージに関するWebサイトをみる</h3>
<p>一覧の右端に小さな丸いアイコンが二つ並んでいます。
そのうち、左側の十字マークのアイコンをクリックすると、
Webブラウザが起動し、そのパッケージの開発元のGitHubのリポジトリページやCRANのWebページなどを閲覧することが出来ます。</p>
</div>
<div id="section-44" class="section level3">
<h3><span class="header-section-number">4.2.5</span> パッケージアンインストール</h3>
<p>一覧の右端に小さな丸いアイコンが二つ並んっでいるうちの、
右側の×マークのアイコンから
パッケージをアンインストールすることが出来ます。
×マークアイコンをクリックすると、
そのパッケージをアンインストールして良いかの確認ダイアログが出ます。
アンインストールする場合は、Yesを選択してアンインストールを実行します。
但し、基本的でシステムに必須のパッケージは、ここからアンインストールしても
アンインストールが出来ない旨が表示されて、アンインストールは行われません。</p>
</div>
</div>
<div id="library" class="section level2">
<h2><span class="header-section-number">4.3</span> パッケージを読み込むlibrary()関数</h2>
<p>パッケージに含まれている関数は、パッケージをインストールしただけでは使えません。
ここで、GitHubで公開されているパッケージをインストールするための関数と、
この関数を含むdevtoolsパッケージの関係を例にパッケージの使い方を紹介します。</p>
<p>通常、利用したい関数を含んだパッケージを、上記の手順でRにインストールします。
既存パッケージを確認して、devtoolsパッケージがインストールされていない場合、
ここでインストールしてみてください。</p>
<p>そして、パッケージ内の関数を利用する場合、まず、その環境（console等）に、<code>library()</code>関数を使って
パッケージを読み込みます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># devtoolsパッケージを読み込む</span>
<span class="kw">library</span>(devtools)</code></pre>
<p>この様にパッケージを読み込むことで、
このパッケージに含まれる<code>install_github()</code>関数がこのコンソール上で使えるようになります。</p>
<p>パッケージのインストールをちゃんと行っていても、
<code>library()</code>関数によるパッケージの読み込みを忘れていると
そのパッケージに含まれる関数を呼び出しても、
その関数を見つけることが出来ない旨のメッセージが添えられたエラーが起こります。
忘れずにパッケージの読み込みをしましょう。</p>
</div>
<div id="github" class="section level2">
<h2><span class="header-section-number">4.4</span> GitHubにあるパッケージのインストール</h2>
<p>先に紹介した通り、GitHubで公開されているパッケージは、<code>install_github()</code>関数を使ってインストールします。
そして、この関数を利用するためには、devtoolsパッケージをインストールした上で、
<code>library()</code>関数を使ってパッケージをコンソールに読み込んで置くことを忘れてはいけません。</p>
<p><code>install_github()</code>関数に渡す引数は、インストールしたいパッケージのあるgtihub上のリポジトリを表す文字列です。</p>
<p>GitHubには、沢山の開発者のアカウントがあり、そのアカウントの中に複数のリポジトリが入っています。
リポジトリとは貯蔵庫という意味ですが、単純に開発している物毎にまとめられたディレクトリと考えればＯＫです。</p>
<p>ここでは、GitHub上のパッケージの例として<strong>reti</strong>パッケージを例としてインストールします。
<a href="https://github.com/rea-osaka/reti">reti(Real Estate Transaction-price Infomation data)パッケージ</a><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>は、
国土交通省が公開している不動産取引価格情報のデータを Rで扱いやすくするためのパッケージで、
筆者の所属する<a href="https://rea-osaka.github.io/">大阪府不動産鑑定士協会不動産取引価格情報活用小委員会</a><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>が
GitHub上で開発して公開しています。</p>
<p>このパッケージあるリポジトリをGitHubのURLで表すと次の通りになっています。</p>
<pre><code>https://github.com/rea-osaka/reti</code></pre>
<p><code>https://github.com/</code>の後ろにある<code>rea-osaka</code>の部分がアカウント名で、
スラッシュを挟んで、その次の<code>reti</code>の部分がリポジトリ名です。</p>
<p>リポジトリは各アカウントの人たちが自由に付けたり、
他人の物をコピーして持ってきたり出来るのでリポジトリ名はGitHub全体では重複することが出来ます。
但し、各アカウント内では同名のリポジトリは存在することが出来ません。
そして、GitHub上では、アカウント名は重複しません。
そこで、GitHub上でのリポジトリは、<code>アカウント名/リポジトリ名</code>という形式を使って一意に選択することが出来ます。
rea-osakaが開発しているretiは、<strong><code>rea-osaka/reti</code></strong>と表記することが出来ます。</p>
<p>そして、<code>install_github()</code>関数には、このリポジトリを特定する文字列を引数として渡します。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># GitHub上のretiパッケージをインストールする</span>
<span class="kw">library</span>(devtools)
<span class="kw">install_github</span>(<span class="st">&quot;rea-osaka/reti&quot;</span>)</code></pre>
<p>GitHub上で公開されているパッケージ等は、
GitHubのリポジトリページをみると大体英語で書かれていますが、<strong>Install</strong>という項目があります。
そこには、上記で述べた通り、devtoolsパッケージをインストールしていないなら、
先にインストールして下さいということや、それを実際に行ってくれるコードが書かれています。
そして、そのパッケージをインストールするための<code>install_github()</code>関数のコードも書かれています。
そこで、注意深い人は、次のような表示になっていることに気づくと思います。
例えば、retiのページでは次のようなコードが書かれています。</p>
<pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;rea-osaka/reti&quot;</span>)</code></pre>
<p><code>install_gitHub</code>の前に<code>devtools::</code>が付いています。
この表記を使うと、
関数名が一意に決定できるため<code>library()</code>関数でパッケージを読み込む必要がありません。</p>
<p>実は、関数名は、パッケージ間では、重複する可能性があります。
そこで、どの関数を使っているのかをはっきりさせるためには、どのパッケージのどの関数という長い表記になります。
しかし、実際のプログラム上では、イチイチ長い名前を書くのは見づらくなるので、
<code>library()</code>関数を使ってこの環境で同名の関数が複数あるのにパッケージ名が省略されている場合は、
<code>library()</code>で指定したものを使うという仕組みが作られています。
逆に、正式な関数の名称は、パッケージ名と関数名を<code>::</code>で繋いで表すことが出来、
その具体例が上記の<code>devtools::install_github()</code>という表記なのです。</p>
<p>このような理解があれば、安心してgithub上のパッケージのインストールにも挑戦できると思います。</p>
</div>
<div id="section-45" class="section level2">
<h2><span class="header-section-number">4.5</span> 有名なパッケージ</h2>
<div id="tidyverse" class="section level3">
<h3><span class="header-section-number">4.5.1</span> tidyverse</h3>
<p><a href="https://www.tidyverse.org/">tidyverse</a><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>はデータサイエンス作業で必須となるパッケージ群です。</p>
<p>実は、tidyverseはパッケージではなく、パッケージの集まりですが、
インストール作業や<code>library()</code>関数での読み込みは、
通常のパッケージと同じく<code>tidyverse</code>でＯＫです。
このパッケージ群は、CRANで配布されているので、RStudioのPackagesタブからインストールできます。
更に、CRANで配布されているものよりも最新の開発版については、
各パッケージについてGitHubでも公開されており、これを<code>install_github()</code>関数を使って
インストールすることも出来ます。</p>
<p>tidyverseにはデータサイエンス作業で必須となる以下のパッケージが含まれています。</p>
<div id="ggplot2" class="section level4 unnumbered">
<h4>ggplot2</h4>
<p>グラフの描画を行うための関数をあつめたパッケージ</p>
</div>
<div id="dplyr" class="section level4 unnumbered">
<h4>dplyr</h4>
<p>整然データに対して、フィルタリングしたり、並べ替えをしたり、列を抜き出したり、新たな列を作ったり、
要約計算をしたりするための関数が集まったパッケージ。
ディープライヤーと読めばＯＫ。プライヤーはペンチです。</p>
</div>
<div id="tidyr" class="section level4 unnumbered">
<h4>tidyr</h4>
<p>tidyはきちんとしたという意味の英語ですが、データサイエンス上では<strong>整然データ</strong>を差します。
そして、tidyrは一般データを扱いやすい整然データに加工するための関数があつまったパッケージです。
タイディアーと読みめばＯＫです。</p>
</div>
<div id="readr" class="section level4 unnumbered">
<h4>readr</h4>
<p>R外部にあるデータファイルをRに読み込むための関数が集まったパッケージです。</p>
</div>
<div id="purrr" class="section level4 unnumbered">
<h4>purrr</h4>
<p>関数型プログラミングを行うための関数セットです。</p>
</div>
<div id="tibble" class="section level4 unnumbered">
<h4>tibble</h4>
<p>data.frame型のデータを改良したデータ型を使うための関数が集まったパッケージです。</p>
</div>
<div id="stringr" class="section level4 unnumbered">
<h4>stringr</h4>
<p>文字列処理を行うための関数が集まったパッケージです。</p>
</div>
<div id="forcats" class="section level4 unnumbered">
<h4>forcats</h4>
<p>ファクタ型のデータを扱う際の一般的な問題を解決してくれる関数が集まったパッケージです。</p>
</div>
</div>
<div id="devtools" class="section level3">
<h3><span class="header-section-number">4.5.2</span> devtools</h3>
<p><a href="https://devtools.r-lib.org/">devtools</a><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>は、パッケージ開発を支援するための関数を集めたパッケージです。
先に紹介した通り、GitHubからのパッケージのインストールには、このパッケージのインストールは必須です。
CRANで配布されていると共に、GitHub上でも開発版が公開されています。</p>
</div>
<div id="leaflet" class="section level3">
<h3><span class="header-section-number">4.5.3</span> leaflet</h3>
<p><a href="https://rstudio.github.io/leaflet/">Leaflet</a><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>という、対話的地図環境を構築するためのjavascriptライブラリをRから使うための関数を集めたパッケージです。
これを使うことで、データをオープンストリートマップ等の上に簡単にプロットできるようになります。
CRANで配布されていると共に、GitHub上でも開発版が公開されています。</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p><a href="https://github.com/rea-osaka/reti" class="uri">https://github.com/rea-osaka/reti</a><a href="04_package.html#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p><a href="https://rea-osaka.github.io/" class="uri">https://rea-osaka.github.io/</a><a href="04_package.html#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p><a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a><a href="04_package.html#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p><a href="https://devtools.r-lib.org/" class="uri">https://devtools.r-lib.org/</a><a href="04_package.html#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p><a href="https://rstudio.github.io/leaflet/" class="uri">https://rstudio.github.io/leaflet/</a><a href="04_package.html#fnref6" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="03_path.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="05_script.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["my_book.pdf", "my_book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
