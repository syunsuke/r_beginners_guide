<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 コンソールとコマンド | Rビギナーズガイド</title>
  <meta name="description" content="2 コンソールとコマンド | Rビギナーズガイド" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="2 コンソールとコマンド | Rビギナーズガイド" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 コンソールとコマンド | Rビギナーズガイド" />
  
  
  

<meta name="author" content="Syunsuke Fukuda" />


<meta name="date" content="2019-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="03_path.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rビギナーズガイド<a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 初めてのRStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#section"><i class="fa fa-check"></i><b>1.1</b> 何を起動するのか</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#section-1"><i class="fa fa-check"></i><b>1.2</b> ペインとタブ</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#section-2"><i class="fa fa-check"></i><b>1.3</b> コンソール</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="02_command.html"><a href="02_command.html"><i class="fa fa-check"></i><b>2</b> コンソールとコマンド</a><ul>
<li class="chapter" data-level="2.1" data-path="02_command.html"><a href="02_command.html#section-4"><i class="fa fa-check"></i><b>2.1</b> コマンド</a><ul>
<li class="chapter" data-level="2.1.1" data-path="02_command.html"><a href="02_command.html#section-5"><i class="fa fa-check"></i><b>2.1.1</b> 四則演算</a></li>
<li class="chapter" data-level="2.1.2" data-path="02_command.html"><a href="02_command.html#section-6"><i class="fa fa-check"></i><b>2.1.2</b> 関数</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02_command.html"><a href="02_command.html#section-7"><i class="fa fa-check"></i><b>2.2</b> 履歴機能</a></li>
<li class="chapter" data-level="2.3" data-path="02_command.html"><a href="02_command.html#section-8"><i class="fa fa-check"></i><b>2.3</b> 補完機能</a></li>
<li class="chapter" data-level="2.4" data-path="02_command.html"><a href="02_command.html#section-9"><i class="fa fa-check"></i><b>2.4</b> 複数行入力</a><ul>
<li class="chapter" data-level="2.4.1" data-path="02_command.html"><a href="02_command.html#section-10"><i class="fa fa-check"></i><b>2.4.1</b> 複数行入力と第２プロンプト “+”</a></li>
<li class="chapter" data-level="2.4.2" data-path="02_command.html"><a href="02_command.html#section-11"><i class="fa fa-check"></i><b>2.4.2</b> 複数行入力のキャンセル</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02_command.html"><a href="02_command.html#section-12"><i class="fa fa-check"></i><b>2.5</b> 変数と代入</a></li>
<li class="chapter" data-level="2.6" data-path="02_command.html"><a href="02_command.html#section-13"><i class="fa fa-check"></i><b>2.6</b> ベクトル</a><ul>
<li class="chapter" data-level="2.6.1" data-path="02_command.html"><a href="02_command.html#section-14"><i class="fa fa-check"></i><b>2.6.1</b> ベクトルの作成</a></li>
<li class="chapter" data-level="2.6.2" data-path="02_command.html"><a href="02_command.html#section-15"><i class="fa fa-check"></i><b>2.6.2</b> データの型とベクトルの性質</a></li>
<li class="chapter" data-level="2.6.3" data-path="02_command.html"><a href="02_command.html#section-18"><i class="fa fa-check"></i><b>2.6.3</b> ベクトルと要素</a></li>
<li class="chapter" data-level="2.6.4" data-path="02_command.html"><a href="02_command.html#section-19"><i class="fa fa-check"></i><b>2.6.4</b> ベクトルを使って計算</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="02_command.html"><a href="02_command.html#section-20"><i class="fa fa-check"></i><b>2.7</b> データフレーム</a><ul>
<li class="chapter" data-level="2.7.1" data-path="02_command.html"><a href="02_command.html#view"><i class="fa fa-check"></i><b>2.7.1</b> データをView()でみる</a></li>
<li class="chapter" data-level="2.7.2" data-path="02_command.html"><a href="02_command.html#section-21"><i class="fa fa-check"></i><b>2.7.2</b> 行と列</a></li>
<li class="chapter" data-level="2.7.3" data-path="02_command.html"><a href="02_command.html#section-22"><i class="fa fa-check"></i><b>2.7.3</b> 整然データとキーワード</a></li>
<li class="chapter" data-level="2.7.4" data-path="02_command.html"><a href="02_command.html#section-23"><i class="fa fa-check"></i><b>2.7.4</b> 列の名前と列へのアクセス</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03_path.html"><a href="03_path.html"><i class="fa fa-check"></i><b>3</b> パス</a><ul>
<li class="chapter" data-level="3.1" data-path="03_path.html"><a href="03_path.html#section-25"><i class="fa fa-check"></i><b>3.1</b> ファイルを扱うために必要不可欠な知識</a></li>
<li class="chapter" data-level="3.2" data-path="03_path.html"><a href="03_path.html#windows"><i class="fa fa-check"></i><b>3.2</b> Windowsのディレクトリ構成</a></li>
<li class="chapter" data-level="3.3" data-path="03_path.html"><a href="03_path.html#section-26"><i class="fa fa-check"></i><b>3.3</b> パスの書き方のルール</a></li>
<li class="chapter" data-level="3.4" data-path="03_path.html"><a href="03_path.html#windows-1"><i class="fa fa-check"></i><b>3.4</b> Windowsのパスの注意点</a><ul>
<li class="chapter" data-level="3.4.1" data-path="03_path.html"><a href="03_path.html#section-27"><i class="fa fa-check"></i><b>3.4.1</b> ディレクトリを表す記号</a></li>
<li class="chapter" data-level="3.4.2" data-path="03_path.html"><a href="03_path.html#section-28"><i class="fa fa-check"></i><b>3.4.2</b> ディレクトリ名称</a></li>
<li class="chapter" data-level="3.4.3" data-path="03_path.html"><a href="03_path.html#section-29"><i class="fa fa-check"></i><b>3.4.3</b> 間違えがちな所</a></li>
<li class="chapter" data-level="3.4.4" data-path="03_path.html"><a href="03_path.html#section-30"><i class="fa fa-check"></i><b>3.4.4</b> パス入力の実習</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="03_path.html"><a href="03_path.html#section-31"><i class="fa fa-check"></i><b>3.5</b> カレントディレクトリ</a><ul>
<li class="chapter" data-level="3.5.1" data-path="03_path.html"><a href="03_path.html#section-32"><i class="fa fa-check"></i><b>3.5.1</b> カレントディレクトリとパスの種類</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="03_path.html"><a href="03_path.html#section-33"><i class="fa fa-check"></i><b>3.6</b> カレントディレクトリを意識した作業</a><ul>
<li class="chapter" data-level="3.6.1" data-path="03_path.html"><a href="03_path.html#section-34"><i class="fa fa-check"></i><b>3.6.1</b> デスクトップでの事前準備</a></li>
<li class="chapter" data-level="3.6.2" data-path="03_path.html"><a href="03_path.html#section-35"><i class="fa fa-check"></i><b>3.6.2</b> カレントディレクトリの変更</a></li>
<li class="chapter" data-level="3.6.3" data-path="03_path.html"><a href="03_path.html#section-36"><i class="fa fa-check"></i><b>3.6.3</b> ファイルの読み込み作業</a></li>
<li class="chapter" data-level="3.6.4" data-path="03_path.html"><a href="03_path.html#section-37"><i class="fa fa-check"></i><b>3.6.4</b> 相対パスと絶対パス</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="03_path.html"><a href="03_path.html#rstduio"><i class="fa fa-check"></i><b>3.7</b> RStduioのプロジェクト</a><ul>
<li class="chapter" data-level="3.7.1" data-path="03_path.html"><a href="03_path.html#section-38"><i class="fa fa-check"></i><b>3.7.1</b> プロジェクトの作成</a></li>
<li class="chapter" data-level="3.7.2" data-path="03_path.html"><a href="03_path.html#rstudio-1"><i class="fa fa-check"></i><b>3.7.2</b> RStudioに小さく表示される情報</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04_package.html"><a href="04_package.html"><i class="fa fa-check"></i><b>4</b> パッケージ</a><ul>
<li class="chapter" data-level="4.1" data-path="04_package.html"><a href="04_package.html#rstudio-2"><i class="fa fa-check"></i><b>4.1</b> RStudioでのパッケージのインストール</a></li>
<li class="chapter" data-level="4.2" data-path="04_package.html"><a href="04_package.html#section-40"><i class="fa fa-check"></i><b>4.2</b> パッケージの管理</a><ul>
<li class="chapter" data-level="4.2.1" data-path="04_package.html"><a href="04_package.html#section-41"><i class="fa fa-check"></i><b>4.2.1</b> アップデート</a></li>
<li class="chapter" data-level="4.2.2" data-path="04_package.html"><a href="04_package.html#section-42"><i class="fa fa-check"></i><b>4.2.2</b> マニュアルをみる</a></li>
<li class="chapter" data-level="4.2.3" data-path="04_package.html"><a href="04_package.html#section-43"><i class="fa fa-check"></i><b>4.2.3</b> パッケージの読み込みとデタッチ</a></li>
<li class="chapter" data-level="4.2.4" data-path="04_package.html"><a href="04_package.html#web"><i class="fa fa-check"></i><b>4.2.4</b> パッケージに関するWebサイトをみる</a></li>
<li class="chapter" data-level="4.2.5" data-path="04_package.html"><a href="04_package.html#section-44"><i class="fa fa-check"></i><b>4.2.5</b> パッケージアンインストール</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04_package.html"><a href="04_package.html#library"><i class="fa fa-check"></i><b>4.3</b> パッケージを読み込むlibrary()関数</a></li>
<li class="chapter" data-level="4.4" data-path="04_package.html"><a href="04_package.html#github"><i class="fa fa-check"></i><b>4.4</b> GitHubにあるパッケージのインストール</a></li>
<li class="chapter" data-level="4.5" data-path="04_package.html"><a href="04_package.html#section-45"><i class="fa fa-check"></i><b>4.5</b> 有名なパッケージ</a><ul>
<li class="chapter" data-level="4.5.1" data-path="04_package.html"><a href="04_package.html#tidyverse"><i class="fa fa-check"></i><b>4.5.1</b> tidyverse</a></li>
<li class="chapter" data-level="4.5.2" data-path="04_package.html"><a href="04_package.html#devtools"><i class="fa fa-check"></i><b>4.5.2</b> devtools</a></li>
<li class="chapter" data-level="4.5.3" data-path="04_package.html"><a href="04_package.html#leaflet"><i class="fa fa-check"></i><b>4.5.3</b> leaflet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05_script.html"><a href="05_script.html"><i class="fa fa-check"></i><b>5</b> 日常作業は、R Notebookで行う</a><ul>
<li class="chapter" data-level="5.1" data-path="05_script.html"><a href="05_script.html#section-46"><i class="fa fa-check"></i><b>5.1</b> 作業の準備はプロジェクトから</a></li>
<li class="chapter" data-level="5.2" data-path="05_script.html"><a href="05_script.html#r-notebook-1"><i class="fa fa-check"></i><b>5.2</b> R Notebookを新規作成する</a></li>
<li class="chapter" data-level="5.3" data-path="05_script.html"><a href="05_script.html#r-notebook-2"><i class="fa fa-check"></i><b>5.3</b> R Notebookの構造</a><ul>
<li class="chapter" data-level="5.3.1" data-path="05_script.html"><a href="05_script.html#yaml"><i class="fa fa-check"></i><b>5.3.1</b> 設定を行うYAMLヘッダ</a></li>
<li class="chapter" data-level="5.3.2" data-path="05_script.html"><a href="05_script.html#section-47"><i class="fa fa-check"></i><b>5.3.2</b> コードが実行できる場所、チャンク</a></li>
<li class="chapter" data-level="5.3.3" data-path="05_script.html"><a href="05_script.html#section-48"><i class="fa fa-check"></i><b>5.3.3</b> それ以外の部分</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="05_script.html"><a href="05_script.html#r-notebook--"><i class="fa fa-check"></i><b>5.4</b> R Notebook と マークダウン</a><ul>
<li class="chapter" data-level="5.4.1" data-path="05_script.html"><a href="05_script.html#section-49"><i class="fa fa-check"></i><b>5.4.1</b> マークダウン</a></li>
<li class="chapter" data-level="5.4.2" data-path="05_script.html"><a href="05_script.html#section-50"><i class="fa fa-check"></i><b>5.4.2</b> マークダウンの出力ファイル</a></li>
<li class="chapter" data-level="5.4.3" data-path="05_script.html"><a href="05_script.html#section-51"><i class="fa fa-check"></i><b>5.4.3</b> 出力形式の変更</a></li>
<li class="chapter" data-level="5.4.4" data-path="05_script.html"><a href="05_script.html#r-notebook-3"><i class="fa fa-check"></i><b>5.4.4</b> R Notebookとして出力するための設定</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="05_script.html"><a href="05_script.html#r"><i class="fa fa-check"></i><b>5.5</b> マークダウンとRマークダウン</a><ul>
<li class="chapter" data-level="5.5.1" data-path="05_script.html"><a href="05_script.html#section-52"><i class="fa fa-check"></i><b>5.5.1</b> マークダウン</a></li>
<li class="chapter" data-level="5.5.2" data-path="05_script.html"><a href="05_script.html#r-1"><i class="fa fa-check"></i><b>5.5.2</b> Rマークダウン</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="05_script.html"><a href="05_script.html#r-notebook-"><i class="fa fa-check"></i><b>5.6</b> R Notebook とは</a><ul>
<li class="chapter" data-level="5.6.1" data-path="05_script.html"><a href="05_script.html#section-58"><i class="fa fa-check"></i><b>5.6.1</b> 保存すると、自動で出力される</a></li>
<li class="chapter" data-level="5.6.2" data-path="05_script.html"><a href="05_script.html#section-59"><i class="fa fa-check"></i><b>5.6.2</b> ファイルを持ち運べる</a></li>
<li class="chapter" data-level="5.6.3" data-path="05_script.html"><a href="05_script.html#html"><i class="fa fa-check"></i><b>5.6.3</b> 只のhtmlファイルではない</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Rビギナーズガイド</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-3" class="section level1">
<h1><span class="header-section-number">2</span> コンソールとコマンド</h1>
<div id="section-4" class="section level2">
<h2><span class="header-section-number">2.1</span> コマンド</h2>
<p>プロンプトに対して渡すコマンドの基本形を見てみましょう。</p>
<div id="section-5" class="section level3">
<h3><span class="header-section-number">2.1.1</span> 四則演算</h3>
<p>プロンプトに対して、通常の四則演算式を入力すれば、
電卓変りに使うことが出来ます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 四則演算</span>
(<span class="dv">350</span> <span class="op">+</span><span class="st"> </span><span class="dv">120</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">100</span> <span class="op">-</span><span class="st"> </span><span class="dv">20</span>) <span class="op">/</span><span class="st"> </span>(<span class="dv">10</span> <span class="op">*</span><span class="st"> </span><span class="dv">10</span>)</code></pre>
<pre><code>## [1] 376</code></pre>
</div>
<div id="section-6" class="section level3">
<h3><span class="header-section-number">2.1.2</span> 関数</h3>
<p>通常のコマンドは、Rの<strong>関数</strong>を入力して実行します。
まずは、現在の時間を教えてくれる<code>date()</code>という関数を試してみましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 現在の時刻を表示する関数</span>
<span class="kw">date</span>()</code></pre>
<pre><code>## [1] &quot;Sat Jul 13 11:13:44 2019&quot;</code></pre>
<p>関数には決まったパターンがあります。
<code>date()</code>を見て把握できる通り、関数は、必ず、関数名とそれに続く括弧から成り立っています。
上記の例である<code>date()</code>は、かっこの中に何も書いてありませんでしたが、
括弧の中には<strong>引数</strong>と呼ばれるものが入ることもあります。
引数は、「ひきすう」と読みます。</p>
<p>では、引数をとる関数を試してみましょう。<code>sum()</code>関数は、引数として渡された数字の合計を返してくれます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 引数として渡された数字を合計するsum()関数</span>
<span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 15</code></pre>
<p>この様にカンマを使って区切ることで、関数には複数の引数を渡すことが出来ます。
関数の引数は、その各関数によって、どのような引数を取るのかが決まっています。
また、その引数の場所に意味があったり、
引数を省略すると自動的に既定値（デフォルト値）をとることもあります。
このような引数に関するルールについては、のちに学習することになりますが、
ここでは、まず、関数は引数を取ることがあるという基本的な事を把握できれば十分です。</p>
</div>
</div>
<div id="section-7" class="section level2">
<h2><span class="header-section-number">2.2</span> 履歴機能</h2>
<p>先のsum()関数では、1から5までの数字を合計しました。
次は、１から6までの数字を合計したいとしましょう。
実際の計算作業においても、
一度行った計算の一部を調整して、再度、似たような計算を行うこともあると思います。
そんな、作業をサポートしてくれるのが履歴機能です。</p>
<p>コンソールにフォーカスがある状態で、カーソルキーの<strong>上矢印“↑”をー</strong>を押してください。
（図<a href="02_command.html#fig:cursorkey001">2.1</a>）
前回実行したコマンドがプロンプト上に入力された状態になりましたか？
何度もこのカーソルの上矢印キーを押すと、
どんどん、前に入力して実行したコマンドに変わっていくはずです。
これを<strong>履歴機能</strong>と呼びます。
今度は、<strong>下矢印“↓”キー</strong>を押して下さい。
そうです、行き過ぎたら戻ればよいわけです。</p>
<div class="figure" style="text-align: center"><span id="fig:cursorkey001"></span>
<img src="images/cursorkey001.jpg" alt="キーボードのカーソルキー" width="70%" />
<p class="caption">
Figure 2.1: キーボードのカーソルキー
</p>
</div>
<p>このように、面倒で複雑なコマンドも１度入力してしまえば、
いつでも指一本で簡単に呼び出せるようになります。
ですから、似たようなコマンドは１から打ち込むことなく、
以前実行したコマンドを再度呼び出し、
必要な部分のみを修正するだけでよくなるので、入力が格段に簡単になります。</p>
<p>では、1から6までの合計値を計算してみてください。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 履歴を活用して1から6の合計値を計算する</span>
<span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</code></pre>
<pre><code>## [1] 21</code></pre>
</div>
<div id="section-8" class="section level2">
<h2><span class="header-section-number">2.3</span> 補完機能</h2>
<p>補完機能は、コマンドや変数を途中まで入力しさえすれば、
残りの部分を適切に補って入力してくれる機能です。</p>
<p>システムの保持している日時を出力してくれる<code>Sys.Date()</code>関数で実践してみましょう。
プロンプトに<code>Sys.</code>と入力してください。
入力している傍にメニューが現れ、その中に<code>Sys.Date</code>を見つけることができるはずです。（図<a href="02_command.html#fig:complete001">2.2</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:complete001"></span>
<img src="images/complete001.png" alt="補完メニュー" width="70%" />
<p class="caption">
Figure 2.2: 補完メニュー
</p>
</div>
<p>カーソルキーを使って、<code>Sys.Date</code>を選択してから、
EnterキーかTabキーを押すと、プロンプトに<code>Sys.Date()</code>が入力されます。</p>
<p>プロンプトへの入力中、補完メニューが出ていない状態で、Tabキーを押すと、
補完メニューを呼び出すことが出来ます。
補完メニューを呼び出したまま、入力を続けると、補完候補がリアルタイムで絞り込まれていきます。
補完候補は、コマンド等の綴りを正確に覚えていない時でも、
適当に試しながら探すことが出来ます。
例えば、よく使う<code>library()</code>関数の正確なつづりに自信がなくても、
<code>lib</code>さえわかれば、補完で何とかなります。</p>
<p>また、一旦、補完メニューを呼び出すと、連続した文字列でなくても絞り込みが効くようになります。
例えば、<code>read.csv()</code>関数という、csvファイルを読み込む関数があります。この関数を補完する際、
まず、<code>r</code>と一文字書いた時点で、tabキーで補完メニューを呼び出します。
この状態では当然、沢山の補完候補が表示されます。
しかし、この状態で、続けて<code>csv</code>、
すなわち、<code>rcsv</code>となるように入力を行って絞り込んでみてください。
このような補完検索のコツは、一旦、メニューを開くところにあります。
プロンプトに対して、メニューを開かず、いきなり、<code>rcsv</code>と入力してもうまくいきません。</p>
<p>さて、補完対象となるのは、関数名をはじめ、変数名、このあと紹介するファイルパス、ライブラリなどがあります。
また、RStudioでは、プロンプト上に限らず、ダイアログ内での入力でも補完が効くこともあります。
とりあえず、よくわからないときは<code>Tabキー</code>で補完の問い合わせをしてみましょう。
プログラムでは、コードが一文字間違っても動きません。
コードの正確性をあげてケアレスミスを防止するため、そして、精神的ストレスを軽減するため
補完機能や、履歴機能を活用していきましょう。</p>
</div>
<div id="section-9" class="section level2">
<h2><span class="header-section-number">2.4</span> 複数行入力</h2>
<p>ここまでに、コンソール上では、コマンド履歴の呼び出しや補完機能が働く事を紹介しました。
更に、コンソール上でのコマンド入力は複数行に分けて行うことが出来ます。</p>
<div id="section-10" class="section level3">
<h3><span class="header-section-number">2.4.1</span> 複数行入力と第２プロンプト “+”</h3>
<p>例えば、試しに、<code>date(</code>とプロンプトに入力してください。
この時、通常、補完機能が働いて自動的に<code>date()</code>と括弧を閉じて、
自動的にその括弧の間に、カーソルが来ますが、
その状態からカーソルを動かして右側の括弧を削除して<code>date(</code>という状態にします。
それから、Enterキーを押します。
プロンプトがあった次の行の左端に <code>+</code> 文字が表示されるはずです。これは、第２プロンプトと呼ばれるもので、
「まだ続きのコマンド入力を受け付けていますよ」という事を示すプロンプト記号です。
これは加算演算子では無いことに注意しなければなりません。
では、ここで閉じ括弧 <code>)</code> を入力してEnterキーを押してください。
<code>date()</code>コマンドが実行されます。（図<a href="02_command.html#fig:longcode002">2.3</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:longcode002"></span>
<img src="images/longcode002.png" alt="複数行入力" width="70%" />
<p class="caption">
Figure 2.3: 複数行入力
</p>
</div>
<p>コンソール上では、Enterキーが押された時に、現在の行内で<strong>括弧が閉じられていない</strong>時、または、
<strong>行末に演算子</strong>があり、右辺の入力がなされていない時には、コマンド入力が完成していないものと判断し、
エラーではなく、<strong>次の行に第２プロンプト</strong>を出して、さらなる入力を促してくれます。
例えば、関数の引数が沢山あったり、演算子を何個もつないだ長い計算式の場合、
１行がとても長くなって意味がわかりにくくなりますし、編集作業も大変になります。
このような場合に、コンソールの複数行入力機能は、便利に使えそうに思えます。</p>
<p>しかし、残念ながら実際に使ってみると、コマンド履歴が１行毎であったり、
前の行にもどって編集作業が出来ない等、
それほど便利ではありません。
ですから、実際にはこの機能を積極的に使う場面はないとおもいますが、
次の項で述べる、複数行入力のキャンセルの仕方は必ず覚えておきましょう。</p>
</div>
<div id="section-11" class="section level3">
<h3><span class="header-section-number">2.4.2</span> 複数行入力のキャンセル</h3>
<p><strong>複数行入力のキャンセルはEscキー</strong>で出来ます。
途中まで入力したコマンドをすべて放棄して、
元のプロンプトに戻ることが出来ます。
自分で、意図的に複数行入力を行った場合は、問題ないのですが、
初心者のうちは、複雑な式を入力している際に
誤って括弧の対が不ぞろいになっていている状態で
Enterキーを押してもコマンドが実行されず、
意図していない複数行入力の状態になってしまい、
パニックになることがあります。
そして、このように複数行入力になってしまったら、
コマンド入力が不完全であるうちは、
いくらEnterキーを押してもコマンドが実行されず、
次の行に <code>+</code> が表示されるだけでその状態から抜け出せなくなることがあります。</p>
<p>ですから、皆さんはまず、複数行入力というものが存在することを認識し、
間違ってその状態になってしまったら、
Escキーで抜け出すことが出来るということを必ず覚えておきましょう。</p>
</div>
</div>
<div id="section-12" class="section level2">
<h2><span class="header-section-number">2.5</span> 変数と代入</h2>
<p>プログラミングをしたことが無い人ならば、
まずは単純に、変数とは名前の付いたデータの入れ物だと考えればＯＫです。</p>
<p>a という変数に、10という数を入れるならば、次のように書きます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 変数に値を代入する</span>
a &lt;-<span class="st"> </span><span class="dv">10</span></code></pre>
<p><code>&lt;-</code>の部分は、変数にデータを代入する代入記号です。
<code>&lt;</code>（小なり記号）と、<code>-</code>（ハイフン）の２文字を使って矢印のような形を書き込むことになりますが、
RStudio上では、Altキーと<code>-</code>ハイフンキーを同時押しすれば、一発で書き込むことが出来ます。</p>
<p>変数への代入を行うと、その代入された値は<strong>コンピューターの中に保持</strong>されます。
そして、RStudioは変数とその値についての情報を
右上ペインの<code>Environment</code>タブにまとめて表示してくれます。（図<a href="02_command.html#fig:envtab001">2.4</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:envtab001"></span>
<img src="images/environmenttab001.png" alt="Environmentタブ" width="70%" />
<p class="caption">
Figure 2.4: Environmentタブ
</p>
</div>
<p>変数は、この保持する機能をもっているということを意識しましょう。
先ほど、1から6までの数字の合計値を計算しました。
しかし、実は、計算をして結果を表示させただけであり、
その結果を改めて他の計算に使おうと思っても既にそのデータはパソコン上にありません。
そこで、何らかの計算を行い、その計算結果を後から別の場所で使いたい場合には、
変数を使ってデータを保持しておく必要があるのです。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 計算結果を代入する</span>
res &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</code></pre>
<p>この変数resの内容は、右上ペインのEnvironmentタブに表示されている変数一覧で確認できるはずです。</p>
<p>では、1から6までの数字が合計されているので、それを使って、1から6までの数字の平均を求めてみましょう。
合計された数字をその個数6で割ればよいので、次のようになります。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 計算結果を使って更に計算する</span>
res <span class="op">/</span><span class="st"> </span><span class="dv">6</span></code></pre>
<pre><code>## [1] 3.5</code></pre>
<p><strong>変数</strong>の性質については、これからたくさん学ぶべきものが出てきます。
しかし、まずは、代入記号を使って値を代入して、
その値を保持させ、これを後から使うことが出来るという点を把握しましょう。</p>
</div>
<div id="section-13" class="section level2">
<h2><span class="header-section-number">2.6</span> ベクトル</h2>
<p>ベクトルという単語を聞くと、高校数学で習った「方向と大きさを持った量」を思い浮かべるかもしれませんが、
<strong>Rでいうベクトルは、単なるデータの集合であり</strong>、高校数学のベクトルとは異なります。
もう一つ、ベクトルの発音で悩む必要はありません。日本語では<strong>ベクトル</strong>で大丈夫です。</p>
<p>プログラミングの世界では、<strong>ある一連のデータ</strong>を扱うことが非常に多いです。
このため、Ｒだけでなくどんなプログラミング言語でも、データの集まりを扱うための仕組みがあります。
多くは、<strong>配列</strong>や<strong>リスト</strong>という名前で、それらの仕組みは呼ばれています。</p>
<p>まずは、<strong>プログラミングの世界で扱う一連のデータ</strong>とは、どんなものなのかを考えてみましょう。
例えば、ここで、ある人達にテストを受けてもらい、その結果が次のようになっているとします。</p>
<table>
<thead>
<tr class="header">
<th align="center">名前</th>
<th align="center">点数</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">レナード</td>
<td align="center">99</td>
</tr>
<tr class="even">
<td align="center">シェルドン</td>
<td align="center">100</td>
</tr>
<tr class="odd">
<td align="center">ハワード</td>
<td align="center">65</td>
</tr>
<tr class="even">
<td align="center">ラジェッシュ</td>
<td align="center">60</td>
</tr>
<tr class="odd">
<td align="center">ペニー</td>
<td align="center">3</td>
</tr>
</tbody>
</table>
<p>このテストについての、最高点、最低点、平均点、中央値、標準偏差等を知るためには、
テスト結果の一つ一つの点数が個別を入手できても計算はできません。
一連の点数が全てそろった、まとまりとしてのデータが必要です。
このひとまとまりのデータを扱うために、Rではベクトルを使います。</p>
<div id="section-14" class="section level3">
<h3><span class="header-section-number">2.6.1</span> ベクトルの作成</h3>
<p>では、実際にベクトルを作りましょう。
ベクトルの作成には、<code>c()</code>関数を使います。<code>c()</code>関数の <code>c</code> はCombine（結合）の <code>c</code> です。
<code>c()</code>関数は、<code>,</code>カンマを使って複数の引数を渡し、ベクトルを作成します。
ここでは、上述のテストの一連の点数結果を複数の引数として<code>c()</code>に渡して下さい。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># c()関数を使って一連のデータからベクトルを作成する</span>
<span class="kw">c</span>(<span class="dv">99</span>, <span class="dv">100</span>, <span class="dv">65</span>, <span class="dv">60</span>, <span class="dv">3</span>)</code></pre>
<pre><code>## [1]  99 100  65  60   3</code></pre>
<p>実行すると、すぐに結果としてベクトルが表示されます。
その単純な数字の並び、それがベクトルです。</p>
<p>ここで、先に説明を行った<strong>変数</strong>の事を思い出してください。
今、作成したベクトルは、変数に代入していないので、
コンピューター上に保持されていません。</p>
<p>ここで、練習問題です。
このテスト結果のベクトルを<code>results</code>という変数に代入し、このデータを保持して下さい。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ベクトルを変数に代入してデータを保持する</span>
results &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">99</span>, <span class="dv">100</span>, <span class="dv">65</span>, <span class="dv">60</span>, <span class="dv">3</span>)</code></pre>
<p>チェックしてみましょう。</p>
<ul>
<li>履歴機能は使えましたか？</li>
<li><code>&lt;-</code>を上手に入力できましたか？</li>
</ul>
</div>
<div id="section-15" class="section level3">
<h3><span class="header-section-number">2.6.2</span> データの型とベクトルの性質</h3>
<p>右上ペインのEnvironmentタブを見てみましょう。
そこに、<code>results</code>変数が加わっているはずでが、
変数の内容は、先ほどの単純な数字の10や21と異なり、次の様になっているはずです。</p>
<pre><code>num [1:5] 99 100 65 60 3</code></pre>
<div id="section-16" class="section level4 unnumbered">
<h4>データの型</h4>
<p>この情報は、３つの部分から構成されています。
はじめの<code>num</code>は、<strong>データの型</strong>を表している部分です。
<code>num</code>は、は number すなわち、数値の略であり、
このベクトルのデータの型が<strong>数値型</strong>であることを表しています。</p>
<p>プログラミングを行う場合、その扱うデータには型というものが必ずあります。
数値型以外の典型的な型として、<strong>文字列型</strong>があります。</p>
<p>データ型の違いは、データの性質の違いを表しています。
ですから、データの型によって、出来る処理も異なります。
例えば、数値型のデータを使って、平均値等の計算ができますが、
文字列型のデータの平均値の計算は出来ません（意味論的にナンセンスという意味）。</p>
<p>ここで、この型を意識して、データを作成してみます。</p>
<p>まずは、数値型のデータを<strong>作製</strong>して、変数に代入してみます。
また、同時に<code>str()</code>関数を使って、作成したデータの型を確認します。
<code>str</code>はstructure（構造）の略で、引数に与えたデータの構造を表示してくれる関数です。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 数値型データの作成</span>
n &lt;-<span class="st"> </span><span class="dv">123</span>
<span class="kw">str</span>(n)</code></pre>
<pre><code>##  num 123</code></pre>
<p>何かのコマンドを使用するわけでは無く、
式の中で単純に数字を書けば、それが数値型のデータとして作成されます。</p>
<p>次は、文字列型のデータを<strong>作製</strong>して、変数に代入してみます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 文字列型データの作成</span>
s &lt;-<span class="st"> &quot;Hello World!&quot;</span>
<span class="kw">str</span>(s)</code></pre>
<pre><code>##  chr &quot;Hello World!&quot;</code></pre>
<p>文字列を二重引用符で囲むことで、文字列型のデータを作成できます。
str()関数の出力には、このデータの型が<code>chr</code>である書かれていますが、これはcharacteor（文字）の略です。</p>
</div>
<div id="section-17" class="section level4 unnumbered">
<h4>ベクトルの型</h4>
<p>データに型があることがわかりました。
そして、実は複数データをとるベクトルにはこのデータの型について大きな約束事があります。
その約束事は、ベクトルを構成する<strong>データの型は全て同じ</strong>でなければならないということです。
ですから、データの型といってもいいですし、<strong>ベクトルの型</strong>といっても意味が通じます。
また、右上ペインのベクトルの内容表示に型は、データの型でありベクトルの型なのです。</p>
</div>
</div>
<div id="section-18" class="section level3">
<h3><span class="header-section-number">2.6.3</span> ベクトルと要素</h3>
<p>Environmentタブの表示には、型の次に<code>[1:5]</code>という表示があります。
この表示は、<strong>このベクトルには、１番から５番までのデータがあります</strong>ということを示しています。つまり、この表示により、ベクトルに入っているデータの数を把握することが出来ます。</p>
<p>ベクトルは、ベクトルを構成する個別のデータは順序をもつという性質があります。
ですから、ベクトルの何番目のデータという表現を使うことで、
ベクトルを構成する個別のデータを一意に取り出すことが可能になっています。</p>
<p>このベクトルの要素を取り出すためには<code>[]</code>角括弧演算子を使います。
例えば、変数<code>results</code>に入っているベクトルの１番目の要素を取り出すには次のように書きます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ベクトルにアクセスする[]演算子</span>
results[<span class="dv">1</span>]</code></pre>
<pre><code>## [1] 99</code></pre>
<p>変数名の後ろに<code>[]</code>角括弧のペアを書き、
その中に何番目のデータにアクセスしたいのか、その<strong>数値</strong>を書き込みます。</p>
</div>
<div id="section-19" class="section level3">
<h3><span class="header-section-number">2.6.4</span> ベクトルを使って計算</h3>
<p>では、テストの点数がベクトルにまとまったので、
テストに関する平均を計算しましょう。
平均の計算には<code>mean()</code>関数を使います。
この<code>mean()</code>関数の引数として、点数の入ったベクトルを渡す事で、平均の計算が出来ます。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 平均を計算する</span>
<span class="kw">mean</span>(results)</code></pre>
<pre><code>## [1] 65.4</code></pre>
</div>
</div>
<div id="section-20" class="section level2">
<h2><span class="header-section-number">2.7</span> データフレーム</h2>
<p>ベクトルは、順序のある一連のデータの集まりで１次元的データ構造でした。
これに対して、データフレームとは、２次元的なデータ構造をした、
表形式のデータの集まりです。
これは、エクセルの表のようなものだと認識してもらえれば結構です。</p>
<p>Rの大きな特徴の一つが、このデータフレームを簡単に処理できるところにあります。</p>
<p>Rには、沢山のサンプルデータがデータフレームの形で付随しています。
このサンプルの一つである<code>cars</code>データを見てみましょう。
<code>cars</code>データは、1920年代の自動車のスピードと停車できるまでの距離の関係の実験結果です。</p>
<p>コンソール上でプロンプトから<code>cars</code>と呼び出せば、データが表示されます。
しかし、ここでは、<code>cars_data</code>という変数を作ってそこに代入し、このデータを保持しましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># データフレームのサンプルデータcars</span>
cars_data &lt;-<span class="st"> </span>cars</code></pre>
<div id="view" class="section level3">
<h3><span class="header-section-number">2.7.1</span> データをView()でみる</h3>
<p>右上ペインのEnvironmentタブに<code>cars_data</code>が表示されます。
ここで、そのEnvironmentタブで<code>cars_data</code>と書かれている部分をクリックして下さい。
そうすると、左上ペインに表形式のデータフレームが表示されます。（図<a href="02_command.html#fig:dataframe001">2.5</a>）</p>
<div class="figure" style="text-align: center"><span id="fig:dataframe001"></span>
<img src="images/dataframe001.png" alt="dataframeの表示" width="90%" />
<p class="caption">
Figure 2.5: dataframeの表示
</p>
</div>
<p>コンソールを見てみると<code>View(cars_data)</code>というコマンドが書かれているのを見つけることが出来ます。
実は、変数名をクリックすることで、RStudioが自動的にフレームデータを見るためのコマンドを実行してくれているのです。
<strong><code>View()</code>関数</strong>は、RStudioでデータを見るための関数です。
また、この関数は、Environmentタブの右端にある<strong>表を表すアイコン</strong>をクリックして呼び出すことも出来ます。</p>
</div>
<div id="section-21" class="section level3">
<h3><span class="header-section-number">2.7.2</span> 行と列</h3>
<p>表形式のデータを扱うには、まず、行と列、その英語の省略形であるrowとcolを正確に暗記しましょう。覚え方は図<a href="02_command.html#fig:rowcol001">2.6</a></p>
<div class="figure" style="text-align: center"><span id="fig:rowcol001"></span>
<img src="images/rowcol.png" alt="行と列の覚え方" width="70%" />
<p class="caption">
Figure 2.6: 行と列の覚え方
</p>
</div>
<p>Rのデータ分析で扱う表形式のデータは<strong>整然データ</strong>と呼ばれるルールに従ったデータになっています。
整然データでは、行と列はその役割が決まっており見やすさのために行と列を入れ替えたりすることは在りません。</p>
<p>carsデータを例に見ると、行はそれぞれの<strong>観測</strong>した車を表しており、
列は個々の観測で得られたスピードと距離という<strong>個々のデータの内容</strong>を表しています。
ですから、データフレームでは、行数がデータの件数、列数が各観測で観測したデータの種類の数を表します。</p>
<p>右上ペインのEnvironmentタブに表示されている情報は次のようなものでした。</p>
<pre><code>cars_data    50 obs. of 2 variables</code></pre>
<p>50 obs. は、50件のデータであり、50行あること。
2 variablesは、2列のデータの種類があり、すなわち、2列であることを示しています。
つまり、この表示を確認することでデータフレームの大きさを把握することが出来ます。</p>
</div>
<div id="section-22" class="section level3">
<h3><span class="header-section-number">2.7.3</span> 整然データとキーワード</h3>
<p>variablesは、変数という意味の英語です。obs.は、observationの略で、観測という意味の英語です。
これらは、整然データについて勉強をするとよく出てくるキーワードです。</p>
<table>
<thead>
<tr class="header">
<th align="center">行列</th>
<th align="center">対応するキーワード</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">行</td>
<td align="center">observation 観測</td>
</tr>
<tr class="even">
<td align="center">列</td>
<td align="center">variable 変数</td>
</tr>
</tbody>
</table>
<p>データ分析を始める段階においては、
整然データの定義を精密に理解までしなくても、キーワードとして耳慣れておけば十分です。</p>
</div>
<div id="section-23" class="section level3">
<h3><span class="header-section-number">2.7.4</span> 列の名前と列へのアクセス</h3>
<p>データフレームの列については、通常、その列データがなんであるかを示す<strong>列名</strong>が付けられています。
左上ペインに表示されている<code>View(cars_data)</code>の結果を見てください。列の一番上に、speedとdistと書かれているのを見つける事が出来るはずです。
（図<a href="02_command.html#fig:dataframe001">2.5</a>） これが、それぞれの列の列名です。
今度は、<code>str()</code>関数を使って、cars_dataの構造を確認してみましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># データフレームcars_dataの構造を確認する</span>
<span class="kw">str</span>(cars_data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    50 obs. of  2 variables:
##  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...
##  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...</code></pre>
<p>1行目で、このデータが<code>data.frame</code>であることとその行と列の大きさの情報が示されます。
2行目以降は、各列についての情報が順に表示されています。
各列の情報は、<code>$</code>記号の後ろに、列名が表示され、その後ろにデータの型と具体的な内容の一部が表示されます。
すなわち、この方法でも、データフレームの列名を確認することが出来ます。</p>
<p>このcars_dataは、先に述べた通り、自動車のスピードと停車距離についての実験結果を表しています。
そして、今、確認した通り、スピードは<code>speed</code>列に、停車距離は<code>dist</code>列にそれぞれ数値として入っています。</p>
<p>ここで、この実験が行われた際の平均スピードを求めたい場合、<strong>データフレーム<code>cars_data</code>から、speedの列データだけを取り出す</strong>必要が生じます。
これを行う一つの方法が<code>$</code>演算子です。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#　cars_dataからspeed列を取り出す</span>
cars_data<span class="op">$</span>speed</code></pre>
<pre><code>##  [1]  4  4  7  7  8  9 10 10 10 11 11 12 12 12 12 13 13 13 13 14 14 14 14
## [24] 15 15 15 16 16 17 17 17 18 18 18 18 19 19 19 20 20 20 20 20 22 23 24
## [47] 24 24 24 25</code></pre>
<p>データフレームの後ろに<code>$</code>記号を書き、その後ろに列名を書きます。
50個の数値が表示されていますが、取り出された結果が何かを改めて<code>str()</code>関数で確認していましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#　取り出されたデータの構造を確認する</span>
<span class="kw">str</span>(cars_data<span class="op">$</span>speed)</code></pre>
<pre><code>##  num [1:50] 4 4 7 7 8 9 10 10 10 11 ...</code></pre>
<p>型名と要素の大きさが表示されました。これは、先に勉強したベクトルです。
これで、データフレームの列をベクトルとして取り出すことが出来るようになりました。</p>
<p>練習問題として、cars_dataで示される実験での、平均スピードを求めてみましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># cars_dataで示される実験での平均スピード</span>
<span class="kw">mean</span>(cars_data<span class="op">$</span>speed)</code></pre>
<pre><code>## [1] 15.4</code></pre>
<p>では、平均停車距離はどうでしょうか？
停車距離データが入っている列の列名が何かということを把握しましょう。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># cars_dataで示される実験での平均停車距離</span>
<span class="kw">mean</span>(cars_data<span class="op">$</span>dist)</code></pre>
<pre><code>## [1] 42.98</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="03_path.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["my_book.pdf", "my_book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
